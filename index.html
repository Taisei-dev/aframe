<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VR Maze</title>
    <script src="https://aframe.io/releases/1.0.4/aframe.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/donmccurdy/aframe-extras@v6.1.0/dist/aframe-extras.min.js"></script>
</head>
<body>
    <a-scene>
        <a-entity id="rig" position="1.3 0 1.3" rotation="0 -90 0" movement-controls="constrainToNavMesh: true; speed:0.1">
            <a-entity id="camera" position="1.5 1.6 6" camera look-controls="pointerLockEnabled: true"></a-entity>
        </a-entity>
        <a-entity id="maze" position="0 0 0">
        </a-entity>
        <a-plane position="22 0 22" rotation="-90 0 0" width="50" height="50" color="#7BC8A4"></a-plane>
        <a-text position="-2 0 2" rotation="-90 -90 0" value="Start" color="red" width="18"></a-text>
        <a-text position="14 0 8" rotation="-90 -90 0" value="Goal" color="blue" width="18"></a-text>
        <a-sky color="#ECECEC"></a-sky>
    </a-scene>
    <script>
        const mazedata=[['@','@','@','@','@'],
                        [' ',' ',' ',' ','@'],
                        ['@',' ','@',' ','@'],
                        ['@',' ','@',' ',' '],
                        ['@','@','@','@','@']];
        let mazeelement=document.getElementById('maze');
        for(let i=0;i<mazedata.length;i++){
            for(let j=0;j<mazedata[0].length;j++){
                if(mazedata[i][j]=='@'){
                    let blockelement=document.createElement('a-box');
                    blockelement.setAttribute('position',`${j*3} 1.5 ${i*3}`);
                    blockelement.setAttribute('width','3');
                    blockelement.setAttribute('height','3');
                    blockelement.setAttribute('depth','3');
                    blockelement.setAttribute('color','#FFC65D');    
                    mazeelement.appendChild(blockelement);
                }
            }
        }
    </script>
</body>
</html>